{% macro view(cmsitem,show_details=False) %}
    <div id="cmsitem_${cmsitem.id}">
        <b>${cmsitem.title}</b>
        <p>
            ${cmsitem.content}
        </p>
    </div>
{%- endmacro %}
{% macro view2(cmsitem,show_details=False) %}
    <div id="cmsitem_${cmsitem.id}">
        <b>${cmsitem.title}</b>
        <p>
            ${cmsitem.content}
        </p>
    </div>
{%- endmacro %}

% for item in c.cmsitems:

   {% if len(item.children) > 0 and item.item_type == "folder":

       {% for associtem in item.children:
            ${view(associtem.item)}
        {% endfor %}

    {% else %}

        {{view(item)}

    {% endif %}

{% endfor %}
